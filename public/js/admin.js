!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=1)}({"+yjC":function(t,e,n){(t.exports=n("bAni")(!1)).push([t.i,"\n.header-btns {\n    width: 52px;\n    margin-right: 15px;\n    text-align: center;\n}\n",""])},"/wVf":function(t,e){var n,i,s=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&v())}function v(){if(!u){var t=o(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||o(v)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},1:function(t,e,n){t.exports=n("v0lo")},"Ls/9":function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},Oxn5:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,s,a,r,o,l=1,c={},u=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(s=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,s.removeChild(e),e=null},s.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(r="setImmediate$"+Math.random()+"$",o=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&p(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),i=function(e){t.postMessage(r+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var s={callback:t,args:e};return c[l]=s,i(l),l++},f.clearImmediate=v}function v(t){delete c[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{v(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("Ls/9"),n("/wVf"))},QyFS:function(t,e,n){var i=n("+yjC");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n("cQUZ")(i,s);i.locals&&(t.exports=i.locals)},"S+Vg":function(t,e,n){"use strict";var i=n("QyFS");n.n(i).a},ZKd3:function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,s=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(s.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new a(s.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n("Oxn5"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("Ls/9"))},bAni:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var s=(r=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),a=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(a).concat([s]).join("\n")}var r;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},s=0;s<this.length;s++){var a=this[s][0];"number"==typeof a&&(i[a]=!0)}for(s=0;s<t.length;s++){var r=t[s];"number"==typeof r[0]&&i[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),e.push(r))}},e}},cQUZ:function(t,e,n){var i,s,a={},r=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=i.apply(this,arguments)),s}),o=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=o.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),c=null,u=0,d=[],f=n("qiCZ");function v(t,e){for(var n=0;n<t.length;n++){var i=t[n],s=a[i.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](i.parts[r]);for(;r<i.parts.length;r++)s.parts.push(g(i.parts[r],e))}else{var o=[];for(r=0;r<i.parts.length;r++)o.push(g(i.parts[r],e));a[i.id]={id:i.id,refs:1,parts:o}}}}function p(t,e){for(var n=[],i={},s=0;s<t.length;s++){var a=t[s],r=e.base?a[0]+e.base:a[0],o={css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(o):n.push(i[r]={id:r,parts:[o]})}return n}function m(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(t.insertAt.before,n);n.insertBefore(e,s)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function b(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return _(e,t.attrs),m(t,e),e}function _(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function g(t,e){var n,i,s,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var r=u++;n=c||(c=b(e)),i=w.bind(null,n,r,!1),s=w.bind(null,n,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",_(e,t.attrs),m(t,e),e}(e),i=k.bind(null,n,e),s=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(e),i=x.bind(null,n),s=function(){h(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return v(n,e),function(t){for(var i=[],s=0;s<n.length;s++){var r=n[s];(o=a[r.id]).refs--,i.push(o)}t&&v(p(t,e),e);for(s=0;s<i.length;s++){var o;if(0===(o=i[s]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete a[o.id]}}}};var C,y=(C=[],function(t,e){return C[t]=e,C.filter(Boolean).join("\n")});function w(t,e,n,i){var s=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,s);else{var a=document.createTextNode(s),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function x(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function k(t,e,n){var i=n.css,s=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||a)&&(i=f(i)),s&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var r=new Blob([i],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}},qiCZ:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var s,a=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(s=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},unpB:function(t,e,n){"use strict";n.r(e);var i=n("ZKd3"),s={props:{fieldsin:{default:[],type:Array},prefix:{type:String,default:""},title:{type:String,default:"Group"},products:{type:Array,default:[]}},data:function(){return{addType:"ckeditor",fields:[],iteration:0,elementKey:"",selected:"",count:0}},mounted:function(){this.fields=this.fieldsin,this.count=this.fields.length,console.log("Component mounted.")},watch:{fields:function(){this.count=this.fields.length,Object(i.setTimeout)((function(){Admin.setEditor()}),500)}},methods:{addBlock:function(){var t={};switch(this.addType){case"html":t={type:"html",value:"",wide:12,title:"Чистый HTML"},this.fields.push(t);break;case"image":t={type:"image",value:"",wide:12,title:"Картинка"},this.fields.push(t);break;case"ckeditor":t={type:"ckeditor",value:"",wide:12,title:"Текстовый блок"},this.fields.push(t);break;case"narrow_text":t={type:"narrow_text",value:"",wide:12,title:"Узкий текстовый блок"},this.fields.push(t);break;case"two_text":t={type:"two_text",value:{left:"",right:""},wide:12,title:"Две колонки текста"},this.fields.push(t);break;case"product_text":t={type:"product_text",value:{text:"",product:"",position:"left"},wide:12,title:"Карточка товара с текстом"},this.fields.push(t);break;case"product_list":t={type:"product_list",value:"",wide:12,title:"Карточки товаров"},this.fields.push(t)}console.log(this.fields)},getMultipleSelectValue:function(t){return $(t).val()},changeFieldSubValue:function(t,e,n){this.fields[e].value[n]=t},changeValue:function(t,e){this.fields[e].value=t},swapItems:function(t,e){var n=this.fields,s=n[t];n[t]=n[e],n[e]=s,this.fields=n,this.count=this.fields.length,this.iteration+=1,Object(i.setTimeout)((function(){Admin.setEditor()}),500)},removeItem:function(t){this.fields.splice(t,1)}}};n("S+Vg");var a=function(t,e,n,i,s,a,r,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=o?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{key:t.iteration},[n("h4",[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"row"},[t._l(t.fields,(function(e,i){return[n("div",{key:i},["image"==e.type?n("div",{staticClass:"col-md-12 col-lg-12"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-danger btn-xs pull-right",attrs:{type:"button"},on:{click:function(e){return t.removeItem(i)}}},[n("i",{staticClass:"fa fa-times"})])]),t._v(" "),n("div",{staticClass:"pull-left header-btns"},[i>0?n("button",{staticClass:"btn btn-success btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i-1)}}},[n("i",{staticClass:"fa fa-chevron-up"})]):t._e(),t._v(" "),i<t.count-1?n("button",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i+1)}}},[n("i",{staticClass:"fa fa-chevron-down"})]):t._e()]),t._v(" "),n("div",{staticClass:"pull-left"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i+"wide"}},[t._v("\n                                            Ширина контейнера\n                                        ")]),t._v(" "),n("select",{staticClass:"form-control",attrs:{id:"field_"+i+"wide",name:t.prefix+"["+i+"][wide]"},domProps:{value:e.wide}},t._l(12,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+"/12")])})),0)])]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"form-group form-element-image"},[n("label",{staticClass:"control-label",attrs:{for:"image"}},[t._v("\n                                                "+t._s(e.title)+"\n                               ")]),t._v(" "),n("element-image",{attrs:{url:"/admin/save/fieldimage",value:t.fields[i].value,name:t.prefix+"["+i+"][value]"},inlineTemplate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.errors.length?n("div",{staticClass:"alert alert-warning"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){return t.closeAlert()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),t._l(t.errors,(function(e,i){return n("p",{key:i},[n("i",{staticClass:"fa fa-hand-o-right",attrs:{"aria-hidden":"true"}}),t._v(" @"+t._s(e))])}))],2):t._e(),t._v(" "),t.has_value?n("div",{staticClass:"form-element-files clearfix"},[n("div",{staticClass:"form-element-files__item"},[n("a",{staticClass:"form-element-files__image",attrs:{href:t.image,"data-toggle":"lightbox"}},[n("img",{attrs:{src:t.image}})]),t._v(" "),n("div",{staticClass:"form-element-files__info"},[n("a",{staticClass:"btn btn-default btn-xs pull-right",attrs:{href:t.image}},[n("i",{staticClass:"fa fa-cloud-download"})]),t._v(" "),t.has_value&&!t.readonly?n("button",{staticClass:"btn btn-danger btn-xs",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.remove()}}},[n("i",{staticClass:"fa fa-times"})]):t._e()])])]):t._e(),t._v(" "),t.readonly?t._e():n("div",[n("div",{staticClass:"btn btn-primary upload-button"},[n("i",{class:t.uploadClass}),t._v(" Select Image\n                                                    ")])]),t._v(" "),n("input",{attrs:{name:t.name,type:"hidden"},domProps:{value:t.val},on:{input:function(e){return t.changeValue(e.target.value,i)}}})])},staticRenderFns:[]}})],1)])])]):"ckeditor"==e.type?n("div",{staticClass:"col-md-12 col-lg-12"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-danger btn-xs pull-right",attrs:{type:"button"},on:{click:function(e){return t.removeItem(i)}}},[n("i",{staticClass:"fa fa-times"})])]),t._v(" "),n("div",{staticClass:"pull-left header-btns"},[i>0?n("button",{staticClass:"btn btn-success btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i-1)}}},[n("i",{staticClass:"fa fa-chevron-up"})]):t._e(),t._v(" "),i<t.count-1?n("button",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i+1)}}},[n("i",{staticClass:"fa fa-chevron-down"})]):t._e()]),t._v(" "),n("div",{staticClass:"pull-left"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i+"wide"}},[t._v("\n                                            Ширина контейнера\n                                        ")]),t._v(" "),n("select",{staticClass:"form-control",attrs:{id:"field_"+i+"wide",name:t.prefix+"["+i+"][wide]"},domProps:{value:e.wide}},t._l(12,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+"/12")])})),0)])]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"form-group form-element-text"},[n("textarea",{staticClass:"form-control js-ckeditor",attrs:{type:"text",id:"field"+i,name:t.prefix+"["+i+"][value]"},domProps:{value:e.value},on:{input:function(e){return t.changeValue(e.target.value,i)}}})])])])]):"html"==e.type?n("div",{staticClass:"col-md-12 col-lg-12"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-danger btn-xs pull-right",attrs:{type:"button"},on:{click:function(e){return t.removeItem(i)}}},[n("i",{staticClass:"fa fa-times"})])]),t._v(" "),n("div",{staticClass:"pull-left header-btns"},[i>0?n("button",{staticClass:"btn btn-success btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i-1)}}},[n("i",{staticClass:"fa fa-chevron-up"})]):t._e(),t._v(" "),i<t.count-1?n("button",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i+1)}}},[n("i",{staticClass:"fa fa-chevron-down"})]):t._e()]),t._v(" "),n("div",{staticClass:"pull-left"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i+"wide"}},[t._v("\n                                            Ширина контейнера\n                                        ")]),t._v(" "),n("select",{staticClass:"form-control",attrs:{id:"field_"+i+"wide",name:t.prefix+"["+i+"][wide]"},domProps:{value:e.wide}},t._l(12,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+"/12")])})),0)])]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"form-group form-element-text"},[n("textarea",{staticClass:"form-control",attrs:{type:"text",id:"field"+i,name:t.prefix+"["+i+"][value]"},domProps:{value:e.value},on:{input:function(e){return t.changeValue(e.target.value,i)}}})])])])]):"narrow_text"==e.type?n("div",{staticClass:"col-md-12 col-lg-12"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-danger btn-xs pull-right",attrs:{type:"button"},on:{click:function(e){return t.removeItem(i)}}},[n("i",{staticClass:"fa fa-times"})])]),t._v(" "),n("div",{staticClass:"pull-left header-btns"},[i>0?n("button",{staticClass:"btn btn-success btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i-1)}}},[n("i",{staticClass:"fa fa-chevron-up"})]):t._e(),t._v(" "),i<t.count-1?n("button",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i+1)}}},[n("i",{staticClass:"fa fa-chevron-down"})]):t._e()]),t._v(" "),n("div",{staticClass:"pull-left"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i+"wide"}},[t._v("\n                                            Ширина контейнера\n                                        ")]),t._v(" "),n("select",{staticClass:"form-control",attrs:{id:"field_"+i+"wide",name:t.prefix+"["+i+"][wide]"},domProps:{value:e.wide}},t._l(12,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+"/12")])})),0)])]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"col-md-8 col-md-offset-2"},[n("div",{staticClass:"form-group form-element-text"},[n("textarea",{staticClass:"form-control js-ckeditor",attrs:{type:"text",id:"field"+i,name:t.prefix+"["+i+"][value]"},domProps:{value:e.value},on:{input:function(e){return t.changeValue(e.target.value,i)}}})])])])])]):"product_text"==e.type?n("div",{staticClass:"col-md-12 col-lg-12"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-danger btn-xs pull-right",attrs:{type:"button"},on:{click:function(e){return t.removeItem(i)}}},[n("i",{staticClass:"fa fa-times"})])]),t._v(" "),n("div",{staticClass:"pull-left header-btns"},[i>0?n("button",{staticClass:"btn btn-success btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i-1)}}},[n("i",{staticClass:"fa fa-chevron-up"})]):t._e(),t._v(" "),i<t.count-1?n("button",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i+1)}}},[n("i",{staticClass:"fa fa-chevron-down"})]):t._e()]),t._v(" "),n("div",{staticClass:"pull-left"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i+"wide"}},[t._v("\n                                            Ширина контейнера\n                                        ")]),t._v(" "),n("select",{staticClass:"form-control",attrs:{id:"field_"+i+"wide",name:t.prefix+"["+i+"][wide]"},domProps:{value:e.wide}},t._l(12,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+"/12")])})),0)])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i+"position"}},[t._v("\n                                            Позиция карточки\n                                        ")]),t._v(" "),n("select",{staticClass:"form-control",attrs:{id:"field_"+i+"position",name:t.prefix+"["+i+"][value][position]"},domProps:{value:e.value.position},on:{change:function(e){return t.changeFieldSubValue(e.target.value,i,"position")}}},[n("option",{attrs:{value:"left"}},[t._v("Слева")]),t._v(" "),n("option",{attrs:{value:"right"}},[t._v("Справа")])])])]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6",class:"left"==e.value.position?"col-md-push-6":""},[n("div",{staticClass:"form-group form-element-text"},[n("label",{attrs:{for:"field"+i+"text"}},[t._v("Текст")]),t._v(" "),n("textarea",{staticClass:"form-control js-ckeditor",attrs:{type:"text",id:"field"+i+"text",name:t.prefix+"["+i+"][value][text]"},domProps:{value:e.value.text},on:{input:function(e){return t.changeFieldSubValue(e.target.value,i,"text")}}})])]),t._v(" "),n("div",{staticClass:"col-md-6",class:"left"==e.value.position?"col-md-pull-6":""},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i+"product"}},[t._v("Продукт")]),t._v(" "),n("select",{directives:[{name:"selecttwo",rawName:"v-selecttwo"}],staticClass:"form-control",attrs:{id:"field"+i+"product",name:t.prefix+"["+i+"][value][product]"},domProps:{value:e.value.product},on:{change:function(e){t.changeFieldSubValue(t.getMultipleSelectValue(e.target),i,"product")}}},t._l(t.products,(function(e,i){return n("option",{key:i,domProps:{value:i}},[t._v(t._s(e))])})),0)])])])])])]):"two_text"==e.type?n("div",{staticClass:"col-md-12 col-lg-12"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-danger btn-xs pull-right",attrs:{type:"button"},on:{click:function(e){return t.removeItem(i)}}},[n("i",{staticClass:"fa fa-times"})])]),t._v(" "),n("div",{staticClass:"pull-left header-btns"},[i>0?n("button",{staticClass:"btn btn-success btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i-1)}}},[n("i",{staticClass:"fa fa-chevron-up"})]):t._e(),t._v(" "),i<t.count-1?n("button",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i+1)}}},[n("i",{staticClass:"fa fa-chevron-down"})]):t._e()]),t._v(" "),n("div",{staticClass:"pull-left"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i+"wide"}},[t._v("\n                                            Ширина контейнера\n                                        ")]),t._v(" "),n("select",{staticClass:"form-control",attrs:{id:"field_"+i+"wide",name:t.prefix+"["+i+"][wide]"},domProps:{value:e.wide}},t._l(12,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+"/12")])})),0)])]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{attrs:{for:"field"+i+"left"}},[t._v("Левая колонка")]),t._v(" "),n("textarea",{staticClass:"form-control js-ckeditor",attrs:{type:"text",id:"field"+i+"left",name:t.prefix+"["+i+"][value][left]"},domProps:{value:e.value.left},on:{input:function(e){return t.changeFieldSubValue(e.target.value,i,"left")}}})])]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{attrs:{for:"field"+i+"right"}},[t._v("Правая колонка")]),t._v(" "),n("textarea",{staticClass:"form-control js-ckeditor",attrs:{type:"text",id:"field"+i+"right",name:t.prefix+"["+i+"][value][right]"},domProps:{value:e.value.right},on:{input:function(e){return t.changeFieldSubValue(e.target.value,i,"right")}}})])])])])])]):"product_list"==e.type?n("div",{staticClass:"col-md-12 col-lg-12"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"pull-right"},[n("button",{staticClass:"btn btn-danger btn-xs pull-right",attrs:{type:"button"},on:{click:function(e){return t.removeItem(i)}}},[n("i",{staticClass:"fa fa-times"})])]),t._v(" "),n("div",{staticClass:"pull-left header-btns"},[i>0?n("button",{staticClass:"btn btn-success btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i-1)}}},[n("i",{staticClass:"fa fa-chevron-up"})]):t._e(),t._v(" "),i<t.count-1?n("button",{staticClass:"btn btn-warning btn-xs",attrs:{type:"button"},on:{click:function(e){return t.swapItems(i,i+1)}}},[n("i",{staticClass:"fa fa-chevron-down"})]):t._e()]),t._v(" "),n("div",{staticClass:"pull-left"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"form-group form-element-text"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i+"wide"}},[t._v("\n                                            Ширина контейнера\n                                        ")]),t._v(" "),n("select",{staticClass:"form-control",attrs:{id:"field_"+i+"wide",name:t.prefix+"["+i+"][wide]"},domProps:{value:e.wide}},t._l(12,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+"/12")])})),0)])]),t._v(" "),n("div",{staticClass:"clearfix"})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"control-label",attrs:{for:"field_"+i}},[t._v("Продукты")]),t._v("\n                                "+t._s(t.fields[i].value)+"\n                                "),n("select",{directives:[{name:"selecttwot",rawName:"v-selecttwot"},{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"form-control",attrs:{id:"field"+i+"product",multiple:"multiple"},domProps:{value:t.fields[i].value},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selected=e.target.multiple?n:n[0]},function(e){t.changeValue(t.getMultipleSelectValue(e.target),i)}]}},t._l(t.products,(function(e,i){return n("option",{key:i,domProps:{value:i.toString()}},[t._v(t._s(e))])})),0),t._v(" "),n("input",{attrs:{type:"hidden",name:t.prefix+"["+i+"][value]"},domProps:{value:t.fields[i].value}})])])])]):t._e(),t._v(" "),n("input",{attrs:{type:"hidden",name:t.prefix+"["+i+"][type]"},domProps:{value:e.type}}),t._v(" "),n("input",{attrs:{type:"hidden",name:t.prefix+"["+i+"][title]"},domProps:{value:e.title}})])]}))],2),t._v(" "),n("div",{staticStyle:{margin:"15px 0"}},[n("div",{staticClass:"col-md-6"},[n("label",{attrs:{for:"add_type"}},[t._v("Добавить блок")]),t._v(" "),n("div",{staticClass:"input-group"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.addType,expression:"addType"}],staticClass:"form-control",attrs:{id:"add_type"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.addType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Выберите тип блока для добавления")]),t._v(" "),n("option",{attrs:{value:"ckeditor"}},[t._v("Текстовый блок")]),t._v(" "),n("option",{attrs:{value:"two_text"}},[t._v("Две колонки текста")]),t._v(" "),n("option",{attrs:{value:"product_text"}},[t._v("Карточка товара с текстом")]),t._v(" "),n("option",{attrs:{value:"html"}},[t._v("Чистый HTML")]),t._v(" "),n("option",{attrs:{value:"image"}},[t._v("Картинка")])]),t._v(" "),n("div",{staticClass:"input-group-btn"},[n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addBlock()}}},[n("i",{staticClass:"fa fa-plus"}),t._v(" Добавить\n                    ")])])])]),t._v(" "),n("div",{staticClass:"clearfix"})])])}),[],!1,null,null,null);e.default=a.exports},v0lo:function(t,e,n){function i(t,e){return editor=new WYSIWYGEditor(t),editor.setConfig(e),editor}function s(t,e){t.destroy()}function a(t,e,n,i){switch(e){case"insert":t.insertText(i)}}console.log("-- init --"),$(document).on("change",".field-order",(function(){""!=$(this).val()?$(this).parents(".order-form").submit():$(this).val($(this).parents(".order-form").find('[name="old"]').val())})),Vue.directive("selecttwo",{inserted:function(t){$(t).select2(),$(t).on("select2:select",(function(){var e=new Event("change",{bubbles:!0,cancelable:!0});t.dispatchEvent(e)})),$(t).on("select2:unselect",(function(){var e=new Event("change",{bubbles:!0,cancelable:!0});t.dispatchEvent(e)}))}}),Vue.component("multi-fields",n("unpB").default),Admin.setEditor=function(){Admin.WYSIWYG.register("ckeditor",i,s,a),$(".js-ckeditor").each((function(t,e){var n=$(this).attr("id"),i="/admin/save/image?_token="+Admin.token;Admin.WYSIWYG.switchOn(n,"ckeditor",{defaultLanguage:"ru",extraPlugins:"uploadimage,image2,justify,youtube,uploadfile",filebrowserUploadUrl:i,uploadUrl:i})}))},console.log("-- rhis1 --"),$(document).ready((function(){function t(t,e){return editor=new WYSIWYGEditor(t),editor.setConfig(e),editor}function e(t,e){t.destroy()}function n(t,e,n,i){switch(e){case"insert":t.insertText(i)}}$(".js-ckeditor").length&&Admin.setEditor(),$("body").on("click",".js-add-multi-element",(function(){$(".js-ckeditor").each((function(t,e){var n=$(this).attr("id");Admin.WYSIWYG.switchOff(n)}));var i=$(this).parents(".js-multi-elements").find(".js-multi_item:last").clone(),s=$(i).data("num"),a=s+1;$(i).attr("data-num",a),$(i).find(".form-control").each((function(t,e){$(e).val(""),name=$(e).attr("name"),id=$(e).attr("id"),$(e).attr("name",name.replace(s,a)),$(e).attr("id",id.replace(s,a))})),$(i).find("textarea").each((function(t,e){$(e).val(""),name=$(e).attr("name"),id=$(e).attr("id"),$(e).attr("name",name.replace(s,a)),$(e).attr("id",id.replace(s,a))})),$(i).find("label").each((function(t,e){fr=$(e).attr("for"),fr&&$(e).attr("for",fr.replace(s,a))})),$(this).before(i),Admin.WYSIWYG.register("ckeditor",t,e,n),$(".js-ckeditor").each((function(t,e){var n=$(this).attr("id");Admin.WYSIWYG.switchOn(n,"ckeditor")}))})),$("body").on("click",".js-remove-multi-element",(function(){var t=$(this).parents(".js-multi_item").data("pid");$(".js_remove-element--"+t).remove(),$(this).parents(".js-multi_item").remove()}))}))}});